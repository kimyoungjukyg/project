<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Com">
	
	<!-- 작성된 댓글에 대한리스트 -->
	
	<select id="replyList" resultType="Com">
	 SELECT * FROM RGESIPAN ORDER BY RID
	 </select>

	<!-- 댓글이 써지는 쿼리이이이 쿼리 -->
	<insert id="gesipanreply" parameterType="Com" useGeneratedKeys="true"
			keyProperty="Cid">
			INSERT INTO TOCOMMENT VALUES(TOCOMMENT_SEQ.nextval,#{rid},#{ccontent},
			#{cwriter},SYSDATE)
			<selectKey keyProperty="Cid" resultType="int" order="AFTER">
				SELECT TOCOMMENT_SEQ.CURRVAL FROM DUAL
			</selectKey>
	</insert>
	
	
	<!-- 게시판에 단 댓글 작성 보여주는 쿼리 -->
	<select id="replyView" parameterType="int" resultType="Com">
		SELECT * FROM TOCOMMENT WHERE RID=#{rid}
		</select>
	

</mapper>